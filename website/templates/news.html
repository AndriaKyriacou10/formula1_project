{% extends "base.html" %}

{% block title%}
    Speed Icons - News
{% endblock %}

{% block main%}
    <section class="news main-home container my-5 p-0 mx-auto">
        <!-- <div class="row w-100 mx-0">
            <h3>News</h3>
        </div> -->
        {% for article in news %}
            <div class="clearfix mx-4 my-5">
                <img src="{{article.urlToImage}}" class="img-article d-block col-6 float-lg-end my-lg-3 my-5 ms-lg-3 rounded mx-auto " alt="...">
                <h3 class="article-title">{{article.title}}</h2>
                <p> By {{article.author}}</p>
                <p>{{article.description}}</p>
                <p class="mb-2">Source: Autosport.com </p>
                <a href="{{article.url}}" class="fw-bold link-dark link-underline link-underline-opacity-0 link-opacity-75-hover"> Go to article</a> 
                <div class="mt-5 divider"></div>
                
            </div>
        {% endfor %}
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">

                {% if page == 1 %}
                    <li class="page-item disabled"><a class="page-link" href="{{url_for('news.get_news', page = page-1)}}">Previous</a></li>
                {% else %}
                    <li class="page-item"><a class="page-link" href="{{url_for('news.get_news', page = page-1)}}">Previous</a></li>
                {% endif %}

                {% for num in num_pages %}

                    {% if num == page %}
                        <li class="page-item active "><a class="page-link" href="{{url_for('news.get_news', page = num)}}">{{num}}</a></li>
                    {% else %}
                        <li class="page-item"><a class="page-link" href="{{url_for('news.get_news', page = num)}}">{{num}}</a></li>
                    {% endif %}
                
                {% endfor %}
                {% if page == total_pages %}
                    <li class="page-item disabled"><a class="page-link" href="{{url_for('news.get_news', page = page+1)}}">Next</a></li>
                {% else %}
                    <li class="page-item"><a class="page-link" href="{{url_for('news.get_news', page = page+1)}}">Next</a></li>
                {% endif %}
            </ul>
        </nav>
    </section>
{% endblock%}